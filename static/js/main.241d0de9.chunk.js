(window["webpackJsonptodo-app"]=window["webpackJsonptodo-app"]||[]).push([[0],{20:function(e,t,a){e.exports=a(30)},25:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(12),r=a.n(c),i=(a(25),a(3)),l=a.n(i),o=a(13),u=a(4),d=a(14),m=a(15),p=a(18),f=a(16),k=a(19),b=a(1),E=a(2),v=a(17),h=a.n(v),_=(a(27),h.a.initializeApp({apiKey:"AIzaSyDj_CTwpr7_bhQoHnvOtP0Ag8P8ip7L8-Q",authDomain:"todo-app-217a2.firebaseapp.com",databaseURL:"https://todo-app-217a2.firebaseio.com",projectId:"todo-app-217a2",storageBucket:"todo-app-217a2.appspot.com",messagingSenderId:"440756000946",appId:"1:440756000946:web:f3abb34d419d0603cc51ab",measurementId:"G-FJW0NN9MVK"})),O=function(e){return _.firestore().collection(e)};var N=function(e){var t=e.id,a=e.select,c=Object(n.useState)(!1),r=Object(b.a)(c,2),i=r[0],o=r[1],d=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("tasks").where("listId","==",t).get().then((function(e){e.forEach((function(e){return e.ref.delete()}))}));case 3:return e.next=5,O("lists").doc(t).delete();case 5:a(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){e.stopPropagation(),o(!i)};return s.a.createElement("div",null,s.a.createElement("span",{className:i?"active sidebar__list-delete":"sidebar__list-delete",onClick:m},s.a.createElement(E.e,null)),i&&s.a.createElement("div",{className:"delete-modal",onClick:function(e){return e.stopPropagation()}},s.a.createElement("div",{className:"delete-modal__content"},s.a.createElement("p",null,"Are you sure you want to delete this list?"),s.a.createElement("button",{onClick:function(){return d(t)}},"Delete"),s.a.createElement("span",{onClick:m},"Cancel"))))};var g=function(e){var t=e.changed,a=e.input,c=Object(n.useState)(!1),r=Object(b.a)(c,2),i=r[0],l=r[1];return s.a.createElement("div",{className:"addList"},i&&s.a.createElement("div",{className:"addList__content"},s.a.createElement("input",{value:a,onChange:function(e){return t(e.target.value,"list")},className:"addList__input",type:"text",placeholder:"Enter new list name"}),s.a.createElement("button",{className:"addList__button",onClick:function(){return e=a,void(a&&O("lists").add({listName:e}).then((function(){t("","list"),l(!1)})));var e}},"Add"),s.a.createElement("span",{className:"addList__cancel",onClick:function(){return l(!1)}},"Cancel")),s.a.createElement("span",{className:"addList__icon"},s.a.createElement(E.b,null)),s.a.createElement("span",{className:"addList__text",onClick:function(){return l(!i)}},"Add new List!"))};function j(e){var t=e.select,a=e.lists,c=e.active,r=e.changed,i=e.input,l=Object(n.useState)(!0),o=Object(b.a)(l,2),u=o[0],d=o[1];return s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"sidebar__list-dropdown",onClick:function(){t(),d(!u)}},s.a.createElement("span",null,s.a.createElement(E.a,{className:!u&&"hide-lists"})),s.a.createElement("h2",null,"Lists")),u&&s.a.createElement("ul",{className:"sidebar__lists"},a.map((function(e){return s.a.createElement("li",{onClick:t,key:e.docId,value:e.docId,className:c&&c.toString()===e.docId?"active sidebar__list":"sidebar__list"},e.listName,s.a.createElement(N,{id:e.docId,select:t}))}))),s.a.createElement(g,{changed:r,input:i}))}var w=a(6);function y(e){var t=e.id,a=e.filter,c=e.select,r=Object(n.useState)(!1),i=Object(b.a)(r,2),l=i[0],o=i[1];return s.a.createElement("div",{className:"checkbox-div"},"current"===a?s.a.createElement("span",{className:"checkbox",onClick:function(){O("tasks").doc(t).update({done:!0})}},s.a.createElement(E.d,null)):s.a.createElement("span",{className:"checkbox",onClick:function(){c(t),o(!l)}},l?s.a.createElement(E.c,null):s.a.createElement(E.d,null)))}var C=function(e){var t=e.list,a=e.changed,c=e.input,r=Object(n.useState)(!1),i=Object(b.a)(r,2),l=i[0],o=i[1];return s.a.createElement("div",{className:"addTask"},l&&s.a.createElement("div",{className:"addTask__content"},s.a.createElement("input",{value:c,onChange:function(e){return a(e.target.value,"task")},className:"addTask__input",type:"text",placeholder:"Enter new Task"}),s.a.createElement("button",{className:"addTask__button",onClick:function(){return e=c,void(t&&e&&O("tasks").add({done:!1,listId:t,task:e}).then((function(){a("","task"),o(!1)})));var e}},"Add"),s.a.createElement("span",{className:"addTask__cancel",onClick:function(){return o(!1)}},"Cancel")),s.a.createElement("span",{className:"addTask__icon"},s.a.createElement(E.b,null)),s.a.createElement("span",{className:"addTask__text",onClick:function(){return o(!l)}},"Add new Task!"))};function I(e){var t=e.tasks,a=e.doneTasks,c=e.namesList,r=e.list,i=e.changed,l=e.input,o=Object(n.useState)("current"),u=Object(b.a)(o,2),d=u[0],m=u[1],p=Object(n.useState)([]),f=Object(b.a)(p,2),k=f[0],E=f[1],v=function(e){m(e.target.value)},h=function(e){return d===e?"active tasks__filter-".concat(e):"tasks__filter-".concat(e)},_=function(e){if(k.includes(e)){var t=k.filter((function(t){return t!==e}));E(Object(w.a)(t))}else E([].concat(Object(w.a)(k),[e]))},N=function(e,t){var a=e.map(t);Promise.all(a).then((function(){E([]),m("current")}))};return s.a.createElement("div",{className:"tasks"},s.a.createElement("h2",{className:"list-name"},c[r]),r&&s.a.createElement("div",null,s.a.createElement("button",{className:h("current"),value:"current",onClick:v},"Current"),s.a.createElement("button",{className:h("done"),value:"done",onClick:v},"Done")),s.a.createElement("ul",{className:"tasks__list"},"current"===d?t.map((function(e){return s.a.createElement("li",{key:e.docId},s.a.createElement(y,{id:e.docId,filter:d}),s.a.createElement("span",null,e.task))})):a.map((function(e){return s.a.createElement("li",{key:e.docId},s.a.createElement(y,{id:e.docId,filter:d,select:_}),s.a.createElement("span",{className:"tasks__list-done"},e.task))}))),r&&"current"===d?s.a.createElement(C,{list:r,changed:i,input:l}):"done"===d&&0!==a.length?s.a.createElement("div",null,s.a.createElement("button",{className:"tasks__filter-restore",onClick:function(){return N(k,(function(e){return O("tasks").doc(e).update({done:!1})}))}},"Restore"),s.a.createElement("button",{className:"tasks__filter-delete",onClick:function(){return N(k,(function(e){return O("tasks").doc(e).delete()}))}},"Delete")):null)}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(s)))).state={lists:[],tasks:[],doneTasks:[],selectedList:"",namesList:[],listInput:"",taskInput:""},a.getLists=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("lists").onSnapshot((function(e){var t=e.docs.map((function(e){return S({docId:e.id},e.data())})),n={};t.forEach((function(e){n[e.docId]=e.listName})),a.setState({lists:t,namesList:n})}));case 1:case"end":return e.stop()}}),e)}))),a.getTasks=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O("tasks").where("listId","==",t).onSnapshot((function(e){var t=e.docs.map((function(e){return S({docId:e.id},e.data())})),n=t.filter((function(e){return!0!==e.done})),s=t.filter((function(e){return!0===e.done}));a.setState({tasks:n,doneTasks:s})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.selectList=function(e){e?a.setState({selectedList:e.target.getAttribute("value")},(function(){a.getTasks(a.state.selectedList)})):a.setState({selectedList:""})},a.input=function(e,t){"list"===t&&a.setState({listInput:e}),"task"===t&&a.setState({taskInput:e})},a}return Object(k.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getLists()}},{key:"render",value:function(){return s.a.createElement("div",{className:"page"},s.a.createElement(j,{select:this.selectList,lists:this.state.lists,active:this.state.selectedList,changed:this.input,input:this.state.listInput}),s.a.createElement(I,{tasks:this.state.tasks,doneTasks:this.state.doneTasks,namesList:this.state.namesList,list:this.state.selectedList,changed:this.input,input:this.state.taskInput}))}}]),t}(n.Component);var x=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(T,null))};r.a.render(s.a.createElement(x,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.241d0de9.chunk.js.map